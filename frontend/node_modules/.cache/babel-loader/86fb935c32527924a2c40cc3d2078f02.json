{"ast":null,"code":"import _classCallCheck from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/nigel/my-website/src/components/blog/MailListContainer.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Loader from 'react-loader-spinner';\n\nvar MailListContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MailListContainer, _Component);\n\n  function MailListContainer(props) {\n    var _this;\n\n    _classCallCheck(this, MailListContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MailListContainer).call(this, props));\n    _this.state = {\n      email: \"\",\n      isSubmitting: false,\n      hasSubmitted: false,\n      errorMessage: \"\"\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.subscribe = _this.subscribe.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(MailListContainer, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        email: event.target.value\n      });\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(event, email) {\n      var _this2 = this;\n\n      event.preventDefault();\n      this.setState({\n        isSubmitting: true\n      });\n      axios.post(\"https://nigelhaney.me/api/mail/subscribe\", {\n        \"email\": this.state.email\n      }).then(function (res) {\n        _this2.setState({\n          hasSubmitted: true\n        });\n\n        console.log(_this2.state);\n      }).catch(function (error) {\n        _this2.setState({\n          isSubmitting: false,\n          errorMessage: error.response.data.message\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, !this.state.hasSubmitted && React.createElement(Container, {\n        style: {\n          padding: \"30px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"justify-content-md-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Sign up for my mailing list!\"), React.createElement(\"p\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"You will be notified whenever I make a new blog post\"))), React.createElement(Row, {\n        className: \"justify-content-md-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.subscribe,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        disabled: this.state.isSubmitting,\n        type: \"email\",\n        placeholder: \"Enter your email here\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(Form.Text, {\n        className: \"text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"No spam, I promise. You may unsubscribe at any time.\"))), React.createElement(Col, {\n        md: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Button, {\n        disabled: this.state.isSubmitting,\n        variant: \"primary\",\n        onClick: this.subscribe,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, !this.state.isSubmitting && \"Sign up!\", this.state.isSubmitting && React.createElement(Loader, {\n        type: \"TailSpin\",\n        color: \"#fff\",\n        height: \"20\",\n        width: \"20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, this.state.errorMessage)))), this.state.hasSubmitted && React.createElement(Container, {\n        style: {\n          border: \"1px solid black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"justify-content-md-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        style: {\n          color: \"green\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Confirmation email sent to \", this.state.email, \". Thanks for your interest!\"))));\n    }\n  }]);\n\n  return MailListContainer;\n}(Component);\n\nexport default MailListContainer;","map":{"version":3,"sources":["/home/nigel/my-website/src/components/blog/MailListContainer.js"],"names":["React","Component","axios","Container","Row","Col","Form","Button","Loader","MailListContainer","props","state","email","isSubmitting","hasSubmitted","errorMessage","handleChange","bind","subscribe","event","setState","target","value","preventDefault","post","then","res","console","log","catch","error","response","data","message","padding","textAlign","color","border"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Loader from 'react-loader-spinner';\n\nclass MailListContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\temail: \"\",\n\t\t\tisSubmitting: false,\n\t\t\thasSubmitted: false,\n\t\t\terrorMessage: \"\"\n\t\t}\n\t\t\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.subscribe = this.subscribe.bind(this);\n\t}\n\n\thandleChange(event) {\n\t\tthis.setState({email: event.target.value});\n\t}\n\n\tsubscribe(event, email) {\n\t\tevent.preventDefault();\n\n\t\tthis.setState({isSubmitting: true});\n\t\taxios.post(\"https://nigelhaney.me/api/mail/subscribe\",\n\t\t\t\t\t\t\t{ \"email\": this.state.email })\n\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\tthis.setState({hasSubmitted: true});\n\t\t\t\t\t\t\t\t\tconsole.log(this.state)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\t\tthis.setState({isSubmitting:false, errorMessage:error.response.data.message})\n\t\t\t\t\t\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t\t<Container>\n\t\t\t\t\t{!this.state.hasSubmitted &&\n\t\t\t\t\t\t<Container style={{padding:\"30px\"}}>\n\t\t\t\t\t\t\t<Row className=\"justify-content-md-center\">\n\t\t\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t\t\t<h4 style={{textAlign:\"center\"}}>Sign up for my mailing list!</h4>\n\t\t\t\t\t\t\t\t\t<p style={{textAlign:\"center\"}}>You will be notified whenever I make a new blog post</p>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row className=\"justify-content-md-center\">\n\t\t\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t\t\t<Form onSubmit={this.subscribe}>\n\t\t\t\t\t\t\t\t\t\t<Form.Control disabled={this.state.isSubmitting} type=\"email\" placeholder=\"Enter your email here\" onChange={this.handleChange} />\n\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\tNo spam, I promise. You may unsubscribe at any time.\n\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col md={2}>\n\t\t\t\t\t\t\t\t\t<Button disabled={this.state.isSubmitting} variant=\"primary\" onClick={this.subscribe}>\n\t\t\t\t\t\t\t\t\t\t{!this.state.isSubmitting && \"Sign up!\"}\n\t\t\t\t\t\t\t\t\t\t{this.state.isSubmitting && \n\t\t\t\t\t\t\t\t\t\t\t<Loader type=\"TailSpin\" color=\"#fff\" height=\"20\" width=\"20\"/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<p style={{color:\"red\"}}>{this.state.errorMessage}</p>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.hasSubmitted &&\n\t\t\t\t\t\t<Container style={{border:\"1px solid black\"}}>\n\t\t\t\t\t\t\t<Row className=\"justify-content-md-center\">\n\t\t\t\t\t\t\t\t<h4 style={{color:\"green\"}}>\n\t\t\t\t\t\t\t\t\tConfirmation email sent to {this.state.email}. Thanks for your interest!\n\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t}\n\t\t\t\t</Container>\n\t\t);\n\t}\n}\n\nexport default MailListContainer;"]},"metadata":{},"sourceType":"module"}