{"ast":null,"code":"import _classCallCheck from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/nigel/my-website/src/components/blog/MailListContainer.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nvar MailListContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MailListContainer, _Component);\n\n  function MailListContainer(props) {\n    var _this;\n\n    _classCallCheck(this, MailListContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MailListContainer).call(this, props));\n    _this.state = {\n      email: \"\",\n      isSubmitting: false,\n      hasSubmitted: false,\n      errorMessage: \"\"\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.subscribe = _this.subscribe.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(MailListContainer, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        email: event.target.value\n      });\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(email) {\n      var _this2 = this;\n\n      this.setState({\n        isSubmitting: true\n      });\n      axios.post(\"https://nigehaney.me/api/mail/subscribe\", {\n        \"email\": this.state.email\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.code == 200) {\n          _this2.setState({\n            hasSubmitted: true\n          });\n        } else {\n          _this2.setState({\n            isSubmitting: false,\n            errorMessage: res.data.message\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        className: \"justify-content-center-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Sign up for my mailing list!\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"You will be notified whenever I make a new blog post\")), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        type: \"email\",\n        placeholder: \"Enter your email here\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(Form.Text, {\n        className: \"text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"No spam, I promise. You may unsubscribe at any time.\"))), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.subscribe,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Sign up!\"))));\n    }\n  }]);\n\n  return MailListContainer;\n}(Component);\n\nexport default MailListContainer;","map":{"version":3,"sources":["/home/nigel/my-website/src/components/blog/MailListContainer.js"],"names":["React","Component","axios","Container","Row","Col","Form","Button","MailListContainer","props","state","email","isSubmitting","hasSubmitted","errorMessage","handleChange","bind","subscribe","event","setState","target","value","post","then","res","console","log","data","code","message"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nclass MailListContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\temail: \"\",\n\t\t\tisSubmitting: false,\n\t\t\thasSubmitted: false,\n\t\t\terrorMessage: \"\"\n\t\t}\n\t\t\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.subscribe = this.subscribe.bind(this);\n\t}\n\n\thandleChange(event) {\n\t\tthis.setState({email: event.target.value});\n\t}\n\n\tsubscribe(email) {\n\t\tthis.setState({isSubmitting: true});\n\t\taxios.post(\"https://nigehaney.me/api/mail/subscribe\",\n\t\t\t\t\t\t\t{ \"email\": this.state.email }).then(\n\t\t\t\t\t\t\tres => {\n\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t\tif(res.data.code == 200) {\n\t\t\t\t\t\t\t\t\tthis.setState({hasSubmitted: true});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tthis.setState({isSubmitting: false, errorMessage: res.data.message});\n\t\t\t\t\t\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Container className=\"justify-content-center-md\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<h4>Sign up for my mailing list!</h4>\n\t\t\t\t\t\t<p>You will be notified whenever I make a new blog post</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<Form.Control type=\"email\" placeholder=\"Enter your email here\" onChange={this.handleChange} />\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\tNo spam, I promise. You may unsubscribe at any time.\n\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={this.subscribe}>\n\t\t\t\t\t\t\tSign up!\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nexport default MailListContainer;"]},"metadata":{},"sourceType":"module"}