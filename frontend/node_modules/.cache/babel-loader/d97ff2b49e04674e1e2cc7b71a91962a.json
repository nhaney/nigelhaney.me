{"ast":null,"code":"import _classCallCheck from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/nigel/my-website/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/nigel/my-website/src/components/blog/MailListContainer.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Loader from 'react-loader-spinner';\n\nvar MailListContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MailListContainer, _Component);\n\n  function MailListContainer(props) {\n    var _this;\n\n    _classCallCheck(this, MailListContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MailListContainer).call(this, props));\n    _this.state = {\n      email: \"\",\n      isSubmitting: false,\n      hasSubmitted: false,\n      errorMessage: \"\"\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.subscribe = _this.subscribe.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(MailListContainer, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        email: event.target.value\n      });\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(email) {\n      var _this2 = this;\n\n      this.setState({\n        isSubmitting: true\n      });\n      axios.post(\"https://nigelhaney.me/api/mail/subscribe\", {\n        \"email\": this.state.email\n      }).then(function (res) {\n        console.log(res);\n\n        _this2.setState({\n          hasSubmitted: true\n        });\n      }).catch(function (error) {\n        console.log(error); //this.setState({isSubmitting:false, errorMessage:error.response})\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        style: {\n          border: \"1px solid black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, !this.hasSubmitted && React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Sign up for my mailing list!\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"You will be notified whenever I make a new blog post\")), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, this.state.errorMessage))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        type: \"email\",\n        placeholder: \"Enter your email here\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(Form.Text, {\n        className: \"text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"No spam, I promise. You may unsubscribe at any time.\"))), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.subscribe,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, !this.state.isSubmitting && \"Sign up!\", this.state.isSubmitting && React.createElement(Loader, {\n        type: \"TailSpin\",\n        color: \"#000\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }))))), this.hasSubmitted && React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        style: {\n          color: \"green\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Please confirm email sent to \", this.state.email, \" to confirm subscription. Thanks for your interest!\")));\n    }\n  }]);\n\n  return MailListContainer;\n}(Component);\n\nexport default MailListContainer;","map":{"version":3,"sources":["/home/nigel/my-website/src/components/blog/MailListContainer.js"],"names":["React","Component","axios","Container","Row","Col","Form","Button","Loader","MailListContainer","props","state","email","isSubmitting","hasSubmitted","errorMessage","handleChange","bind","subscribe","event","setState","target","value","post","then","res","console","log","catch","error","border","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Loader from 'react-loader-spinner';\n\nclass MailListContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\temail: \"\",\n\t\t\tisSubmitting: false,\n\t\t\thasSubmitted: false,\n\t\t\terrorMessage: \"\"\n\t\t}\n\t\t\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.subscribe = this.subscribe.bind(this);\n\t}\n\n\thandleChange(event) {\n\t\tthis.setState({email: event.target.value});\n\t}\n\n\tsubscribe(email) {\n\t\tthis.setState({isSubmitting: true});\n\t\taxios.post(\"https://nigelhaney.me/api/mail/subscribe\",\n\t\t\t\t\t\t\t{ \"email\": this.state.email })\n\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t\t\tthis.setState({hasSubmitted: true});\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\t\t//this.setState({isSubmitting:false, errorMessage:error.response})\n\t\t\t\t\t\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Container style={{border:\"1px solid black\"}}>\n\t\t\t\t{!this.hasSubmitted &&\n\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<h4>Sign up for my mailing list!</h4>\n\t\t\t\t\t\t\t\t<p>You will be notified whenever I make a new blog post</p>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<p style={{color:\"red\"}}>{this.state.errorMessage}</p>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"email\" placeholder=\"Enter your email here\" onChange={this.handleChange} />\n\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\tNo spam, I promise. You may unsubscribe at any time.\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={this.subscribe}>\n\t\t\t\t\t\t\t\t\t{!this.state.isSubmitting && \"Sign up!\"}\n\t\t\t\t\t\t\t\t\t{this.state.isSubmitting && \n\t\t\t\t\t\t\t\t\t\t<Loader type=\"TailSpin\" color=\"#000\"/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Container>\n\t\t\t\t}\n\t\t\t\t{this.hasSubmitted &&\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<h2 style={{color:\"green\"}}>\n\t\t\t\t\t\t\tPlease confirm email sent to {this.state.email} to confirm subscription. \n\t\t\t\t\t\t\tThanks for your interest!\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t</Row>\n\t\t\t\t}\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nexport default MailListContainer;"]},"metadata":{},"sourceType":"module"}